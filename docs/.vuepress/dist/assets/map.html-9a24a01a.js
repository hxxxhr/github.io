import{_ as p,a as o,b as r}from"./liulan-531c46a6.js";import{_ as l,r as c,o as i,c as u,a as n,b as s,d as t,e}from"./app-0bc0dfa9.js";const d={},k=e('<h3> 地图场景 Map </h3><img class="images" src="'+p+'" alt="来自依赖包的图片"><i class="text">Mars2D</i><img class="imagess" src="'+o+'" alt="来自依赖包的图片"><i class="text">30/6/2023</i><img class="imagess" src="'+r+'" alt="来自依赖包的图片"><i class="text">0</i>',7),m={href:"http://mars2d.cn/api/Map.html",target:"_blank",rel:"noopener noreferrer"},y=e(`<h2 id="_1-地图场景初始化" tabindex="-1"><a class="header-anchor" href="#_1-地图场景初始化" aria-hidden="true">#</a> 1. 地图场景初始化</h2><p>在使用 mars2d 时你可以根据需要对默认参数进行配置，如果你只是想得到默认的效果，你仅需要写下面一行代码即可：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;mars2dContainer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>当你需要对地图进行配置的时候，mars2d 提供了详细的参数配置方案（如下），你可以暂时不需要完全理解各个参数的意义，在接下来的后续教程中我们会详细解释相关参数。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 创建二维地图场景</span>
<span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;mars2dContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
  <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">lng</span><span class="token operator">:</span> <span class="token number">117.240601</span><span class="token punctuation">,</span> <span class="token literal-property property">lat</span><span class="token operator">:</span> <span class="token number">31.827107</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">control</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">locationBar</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> <span class="token string">&quot;CGCS2000_GK_Zone_3&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span>
        <span class="token string">&quot;&lt;div&gt;经度:{lng}&lt;/div&gt; &lt;div&gt;纬度:{lat}&lt;/div&gt; &lt;div&gt;横{crsx}  纵{crsy}&lt;/div&gt; &lt;div&gt;层级:{level}&lt;/div&gt;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;bottomright&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">toolBar</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;bottomright&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;topleft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">basemaps</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;高德地图&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;gaode&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;vec&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;高德地图&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;gaode&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;img&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">operationallayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;经纬网&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;graticule&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-mars2d-map-类-参数说明" tabindex="-1"><a class="header-anchor" href="#_2-mars2d-map-类-参数说明" aria-hidden="true">#</a> 2. mars2d.Map 类 参数说明</h2>`,6),h=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"center"}},"参数名"),n("th",{style:{"text-align":"center"}},"类型"),n("th",{style:{"text-align":"center"}},"参数解释")])],-1),v=n("tr",null,[n("td",{style:{"text-align":"center"}},"id"),n("td",{style:{"text-align":"center"}},"String 或 HTMLElement"),n("td",{style:{"text-align":"center"}},"地图 div 容器的 id 或 dom")],-1),_=n("td",{style:{"text-align":"center"}},"mapOptions",-1),g=n("td",{style:{"text-align":"center"}},"Object",-1),b={style:{"text-align":"center"}},x={href:"http://mars2d.cn/api/Map.html",target:"_blank",rel:"noopener noreferrer"},q=e(`<h3 id="_2-1-使用-json-配置文件记录参数快速创建地图场景" tabindex="-1"><a class="header-anchor" href="#_2-1-使用-json-配置文件记录参数快速创建地图场景" aria-hidden="true">#</a> 2.1 使用 json 配置文件记录参数快速创建地图场景</h3><p>我们在不同项目应用时，可能是同一套代码，仅仅只是地图的配置参数不一样， 那么我们可以把地图的参数保存在后端服务动态生成或存储在 json 文件，将地图场景参数化。 我们可以直接加载使用不同 json 数据来快速创建各种地图场景。<br> (1)通过任意方式去读取 json 文件，下面只是一种演示的方式</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> configUrl <span class="token operator">=</span> <span class="token string">&quot;http://mars2d.cn/config/config.json&quot;</span><span class="token punctuation">;</span>
mars2d<span class="token punctuation">.</span>axios
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>configUrl<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//构建地图</span>
    window<span class="token punctuation">.</span><span class="token function">initMap</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;加载JSON出错&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2)读取到的 json 对象传入<code>new mars2d.Map</code>方法创建地图</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">initMap</span><span class="token punctuation">(</span><span class="token parameter">mapOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//创建二维地图场景</span>
  <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;mars2dContainer&quot;</span><span class="token punctuation">,</span> mapOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>config.json</code>中的属性参数是与 mapOptions 参数相同。</p><h2 id="_3-默认视角参数" tabindex="-1"><a class="header-anchor" href="#_3-默认视角参数" aria-hidden="true">#</a> 3. 默认视角参数</h2>`,7),f={href:"http://mars2d.cn/api/Map.html#.mapOptions",target:"_blank",rel:"noopener noreferrer"},L=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;mars2dContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
  <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">lng</span><span class="token operator">:</span> <span class="token number">117.240601</span><span class="token punctuation">,</span> <span class="token literal-property property">lat</span><span class="token operator">:</span> <span class="token number">31.827107</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),j={href:"http://mars2d.cn/api/Map.html#getView",target:"_blank",rel:"noopener noreferrer"},M=n("h2",{id:"_4-控件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_4-控件","aria-hidden":"true"},"#"),s(" 4.控件")],-1),w=n("code",null,"control",-1),C={href:"http://mars2d.cn/api/Map.html#.controlOptions",target:"_blank",rel:"noopener noreferrer"},G=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;mars2dContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">control</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//以下是Leaflet所支持的控件相关的options</span>
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;bottomright&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;topleft&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//以下是mars2d.control定义的控件</span>
    <span class="token literal-property property">defaultContextMenu</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//右键菜单</span>
    <span class="token literal-property property">locationBar</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> <span class="token string">&quot;CGCS2000_GK_Zone_3&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span>
        <span class="token string">&quot;&lt;div&gt;经度:{lng}&lt;/div&gt; &lt;div&gt;纬度:{lat}&lt;/div&gt; &lt;div&gt;横{crsx}  纵{crsy}&lt;/div&gt; &lt;div&gt;层级:{level}&lt;/div&gt;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">toolBar</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;bottomright&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-栅格瓦片底图" tabindex="-1"><a class="header-anchor" href="#_5-栅格瓦片底图" aria-hidden="true">#</a> 5. 栅格瓦片底图</h2>`,2),O={href:"http://mars2d.cn/api/Map.html#.basemapOptions",target:"_blank",rel:"noopener noreferrer"},S=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;mars2dContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">basemaps</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;天地图电子&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;group&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;底图&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;tdt&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;vec_d&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;注记&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;tdt&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;vec_z&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;天地图卫星&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;tdt&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;img&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;OSM地图&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;xyz&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;http://a.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;高德地图&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;gaode&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;vec&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-1-底图的图层参数" tabindex="-1"><a class="header-anchor" href="#_7-1-底图的图层参数" aria-hidden="true">#</a> 7.1 底图的图层参数</h3>`,2),T={href:"http://mars2d.cn/api/BaseTileLayer.html",target:"_blank",rel:"noopener noreferrer"},B=n("br",null,null,-1),I=e('<table><thead><tr><th style="text-align:center;">参数名</th><th style="text-align:center;">类型</th><th style="text-align:center;">参数解释</th></tr></thead><tbody><tr><td style="text-align:center;">type</td><td style="text-align:center;">String</td><td style="text-align:center;">图层类型</td></tr><tr><td style="text-align:center;">name</td><td style="text-align:center;">String</td><td style="text-align:center;">用于图层控件展示的名称</td></tr><tr><td style="text-align:center;">其他参数</td><td style="text-align:center;"></td><td style="text-align:center;">每个 type 都有一些个性化的不同参数，参考各 type 对应的图层类构造参数</td></tr></tbody></table><h3 id="_7-2-底图的-type-图层类型" tabindex="-1"><a class="header-anchor" href="#_7-2-底图的-type-图层类型" aria-hidden="true">#</a> 7.2 底图的 type 图层类型</h3><p>basemaps 所支持的 type 目前包括：</p>',3),z=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"center"}},"类型名"),n("th",{style:{"text-align":"center"}},"说明"),n("th",{style:{"text-align":"center"}},"对应的图层类"),n("th",{style:{"text-align":"center"}},"备注")])],-1),A=n("td",{style:{"text-align":"center"}},"image",-1),V=n("td",{style:{"text-align":"center"}},"单张图片",-1),N={style:{"text-align":"center"}},W={href:"http://mars2d.cn/api/ImageLayer.html",target:"_blank",rel:"noopener noreferrer"},D=n("td",{style:{"text-align":"center"}},null,-1),E=n("td",{style:{"text-align":"center"}},"tile",-1),Z=n("td",{style:{"text-align":"center"}},"标准金字塔地图",-1),U={style:{"text-align":"center"}},K={href:"http://mars2d.cn/api/TileLayer.html",target:"_blank",rel:"noopener noreferrer"},P=n("td",{style:{"text-align":"center"}},null,-1),H=n("td",{style:{"text-align":"center"}},"wms",-1),J=n("td",{style:{"text-align":"center"}},"OGC WMS 标准服务",-1),F={style:{"text-align":"center"}},Q={href:"http://mars2d.cn/api/WmsLayer.html",target:"_blank",rel:"noopener noreferrer"},R=n("td",{style:{"text-align":"center"}},null,-1),X=n("td",{style:{"text-align":"center"}},"wmts",-1),Y=n("td",{style:{"text-align":"center"}},"OGC WMTS 标准服务",-1),$={style:{"text-align":"center"}},nn={href:"http://mars2d.cn/api/WmtsLayer.html",target:"_blank",rel:"noopener noreferrer"},sn=n("td",{style:{"text-align":"center"}},null,-1),an=n("td",{style:{"text-align":"center"}},"arcgis",-1),tn=n("td",{style:{"text-align":"center"}},"ArcGIS 标准服务",-1),en={style:{"text-align":"center"}},pn={href:"http://mars2d.cn/api/ArcGisLayer.html",target:"_blank",rel:"noopener noreferrer"},on=n("td",{style:{"text-align":"center"}},null,-1),rn=n("td",{style:{"text-align":"center"}},"arcgis_cache",-1),ln=n("td",{style:{"text-align":"center"}},"ArcGIS 切片",-1),cn={style:{"text-align":"center"}},un={href:"http://mars2d.cn/api/ArcGisCacheLayer.html",target:"_blank",rel:"noopener noreferrer"},dn=n("td",{style:{"text-align":"center"}},null,-1),kn=n("td",{style:{"text-align":"center"}},"tdt",-1),mn=n("td",{style:{"text-align":"center"}},"天地图",-1),yn={style:{"text-align":"center"}},hn={href:"http://mars2d.cn/api/TdtLayer.html",target:"_blank",rel:"noopener noreferrer"},vn=n("td",{style:{"text-align":"center"}},"在线地图",-1),_n=n("td",{style:{"text-align":"center"}},"gaode",-1),gn=n("td",{style:{"text-align":"center"}},"高德",-1),bn={style:{"text-align":"center"}},xn={href:"http://mars2d.cn/api/GaodeLayer.html",target:"_blank",rel:"noopener noreferrer"},qn=n("td",{style:{"text-align":"center"}},"在线地图",-1),fn=n("td",{style:{"text-align":"center"}},"baidu",-1),Ln=n("td",{style:{"text-align":"center"}},"百度",-1),jn={style:{"text-align":"center"}},Mn={href:"http://mars2d.cn/api/BaiduLayer.html",target:"_blank",rel:"noopener noreferrer"},wn=n("td",{style:{"text-align":"center"}},"在线地图",-1),Cn=n("td",{style:{"text-align":"center"}},"tencent",-1),Gn=n("td",{style:{"text-align":"center"}},"腾讯",-1),On={style:{"text-align":"center"}},Sn={href:"http://mars2d.cn/api/TencentLayer.html",target:"_blank",rel:"noopener noreferrer"},Tn=n("td",{style:{"text-align":"center"}},"在线地图",-1),Bn=n("td",{style:{"text-align":"center"}},"osm",-1),In=n("td",{style:{"text-align":"center"}},"OpenStreetMap（OSM）",-1),zn={style:{"text-align":"center"}},An={href:"http://mars2d.cn/api/OsmLayer.html",target:"_blank",rel:"noopener noreferrer"},Vn=n("td",{style:{"text-align":"center"}},"国外在线地图",-1),Nn=n("td",{style:{"text-align":"center"}},"mapbox",-1),Wn=n("td",{style:{"text-align":"center"}},"Mapbox 地图",-1),Dn={style:{"text-align":"center"}},En={href:"http://mars2d.cn/api/MapboxLayer.html",target:"_blank",rel:"noopener noreferrer"},Zn=n("td",{style:{"text-align":"center"}},"国外在线地图",-1),Un=n("td",{style:{"text-align":"center"}},"google",-1),Kn=n("td",{style:{"text-align":"center"}},"谷歌地图",-1),Pn={style:{"text-align":"center"}},Hn={href:"http://mars2d.cn/api/GoogleLayer.html",target:"_blank",rel:"noopener noreferrer"},Jn=n("td",{style:{"text-align":"center"}},"目前已被封",-1),Fn=e(`<h3 id="_7-3-更新底图" tabindex="-1"><a class="header-anchor" href="#_7-3-更新底图" aria-hidden="true">#</a> 7.3 更新底图</h3><p>创建完成底图后，需要切换底图或获取当前的底图，可以根据 config 配置的 id 或 name 属性，显示指定的底图，如：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//获取或设置当前显示的底图，设置时可以传入图层id或name</span>
map<span class="token punctuation">.</span>basemap <span class="token operator">=</span> <span class="token string">&quot;离线地图&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//获取配置的底图数组</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">getBasemaps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-可以叠加的图层" tabindex="-1"><a class="header-anchor" href="#_8-可以叠加的图层" aria-hidden="true">#</a> 8. 可以叠加的图层</h2>`,4),Qn={href:"http://mars2d.cn/api/Map.html#.layerOptions",target:"_blank",rel:"noopener noreferrer"},Rn=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;mars2dContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">operationallayers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;实时路况&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;gaode&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;time&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;经纬网&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;graticule&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-1-可以叠加的图层" tabindex="-1"><a class="header-anchor" href="#_8-1-可以叠加的图层" aria-hidden="true">#</a> 8.1 可以叠加的图层</h3>`,2),Xn={href:"http://mars2d.cn/api/global.html#LayerType",target:"_blank",rel:"noopener noreferrer"},Yn=n("h3",{id:"_8-2-对图层的控制",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_8-2-对图层的控制","aria-hidden":"true"},"#"),s(" 8.2 对图层的控制")],-1),$n={href:"http://mars2d.cn/api/Map.html#getLayer",target:"_blank",rel:"noopener noreferrer"},ns=e(`<p>为了方便理解 getLayer 获取到的对象，layers 配置的图层与下面的创建方式是等价的，</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//用工厂方法创建图层</span>
<span class="token keyword">var</span> layerImg <span class="token operator">=</span> mars2d<span class="token punctuation">.</span>LayerUtil<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;image&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;//data.mars2d.cn/file/img/radar/201906211112.PNG&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">xmin</span><span class="token operator">:</span> <span class="token number">73.16895</span><span class="token punctuation">,</span> <span class="token literal-property property">xmax</span><span class="token operator">:</span> <span class="token number">134.86816</span><span class="token punctuation">,</span> <span class="token literal-property property">ymin</span><span class="token operator">:</span> <span class="token number">12.2023</span><span class="token punctuation">,</span> <span class="token literal-property property">ymax</span><span class="token operator">:</span> <span class="token number">54.11485</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token number">0.7</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layerImg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),ss={href:"http://mars2d.cn/api/Map.html#addLayer",target:"_blank",rel:"noopener noreferrer"},as={href:"http://mars2d.cn/api/Map.html#removeLayer",target:"_blank",rel:"noopener noreferrer"},ts={href:"http://mars2d.cn/api/global.html#LayerType",target:"_blank",rel:"noopener noreferrer"};function es(ps,os){const a=c("ExternalLinkIcon");return i(),u("div",null,[k,n("p",null,[s("我们使用 DIV 渲染后看到的二维地图对象，我们统称为地图场景，在 Mars2D 中对应是"),n("a",m,[s("mars2d.Map 类"),t(a)]),s("，这是一切的开始，所有相关控制的起点。掌握学习好了 mars2d.Map 类 基本也就掌握好了 Mars2D。")]),y,n("table",null,[h,n("tbody",null,[v,n("tr",null,[_,g,n("td",b,[n("a",x,[s("API 文档 Map 类"),t(a)])])])])]),q,n("p",null,[s("你如果想设置进入地图页面时，自定义默认视角中心点和地图层级的话，你可以在创建地图时设置"),n("a",f,[s("zoom 和 center 参数"),t(a)]),s("值：")]),L,n("p",null,[s("也可以通过"),n("a",j,[s("map.getView"),t(a)]),s("方法获取当前的地图视角后拷贝设置到 config.json 中。或者在地图空白区域右键菜单中【查看当前视角】来快捷获取下参数值。")]),M,n("p",null,[s("在创建地图的时候，你可以在配置项中通过"),w,s("对控件中的功能组件进行相应的配置，支持的参数，参考"),n("a",C,[s("control 参数说明"),t(a)])]),G,n("p",null,[s("栅格底图就是我们浏览地图最重要的底层参照物, 在创建地图的时候，你可以通过"),n("a",O,[s("basemapse"),t(a)]),s("添加栅格瓦片底图（允许添加多个，添加多个图层后可在底图控制器中切换），一般我们可以设置 basemaps 数组中默认显示的底图的 show 参数为 true")]),S,n("p",null,[s("栅格底图所支持的图层类型，只能是瓦片图层，均是继承自"),n("a",T,[s(" BaseTileLayer 类"),t(a)]),s("的图层类型。basemaps 参数为一个数组，其中各图层的参数支持："),B,s(" basemaps 参数说明")]),I,n("table",null,[z,n("tbody",null,[n("tr",null,[A,V,n("td",N,[n("a",W,[s("mars2d.layer.ImageLayer"),t(a)])]),D]),n("tr",null,[E,Z,n("td",U,[n("a",K,[s("mars2d.layer.TileLayer"),t(a)])]),P]),n("tr",null,[H,J,n("td",F,[n("a",Q,[s("mars2d.layer.WmsLayer"),t(a)])]),R]),n("tr",null,[X,Y,n("td",$,[n("a",nn,[s("mars2d.layer.WmtsLayer"),t(a)])]),sn]),n("tr",null,[an,tn,n("td",en,[n("a",pn,[s("mars2d.layer.ArcGisLayer"),t(a)])]),on]),n("tr",null,[rn,ln,n("td",cn,[n("a",un,[s("mars2d.layer.ArcGisCacheLayer "),t(a)])]),dn]),n("tr",null,[kn,mn,n("td",yn,[n("a",hn,[s("mars2d.layer.TdtLayer"),t(a)])]),vn]),n("tr",null,[_n,gn,n("td",bn,[n("a",xn,[s("mars2d.layer.GaodeLayer"),t(a)])]),qn]),n("tr",null,[fn,Ln,n("td",jn,[n("a",Mn,[s("mars2d.layer.BaiduLayer"),t(a)])]),wn]),n("tr",null,[Cn,Gn,n("td",On,[n("a",Sn,[s("mars2d.layer.TencentLayer "),t(a)])]),Tn]),n("tr",null,[Bn,In,n("td",zn,[n("a",An,[s("mars2d.layer.OsmLayer"),t(a)])]),Vn]),n("tr",null,[Nn,Wn,n("td",Dn,[n("a",En,[s("mars2d.layer.MapboxLayer "),t(a)])]),Zn]),n("tr",null,[Un,Kn,n("td",Pn,[n("a",Hn,[s("mars2d.layer.GoogleLayer"),t(a)])]),Jn])])]),Fn,n("p",null,[s("在二维地图中，你可以在地图上添加多个图层来叠加显示。 在创建地图时，可以传"),n("a",Qn,[s("operationallayers 参数"),t(a)]),s(" 来将当前项目内常用的图层一次性配置好，代码中去按需使用。")]),Rn,n("p",null,[s("operationallayers 配置支持的 basemaps 所有支持的瓦片图层，还支持所有矢量覆盖物数据的加载，支持的 type 类型，请参考"),n("a",Xn,[s("图层类型"),t(a)]),s("，每个 type 都有一些个性化的不同参数，参考各 type 对应的图层类构造参数。")]),Yn,n("p",null,[s("可以通过"),n("a",$n,[s(" let layer = map.getLayer(1987,'id')"),t(a)]),s("来获取 config.json 中配置的对应 id 为 1987 的图层对象。")]),ns,n("p",null,[s("在 Map 创建后可以通过"),n("a",ss,[s("addLayer"),t(a)]),s("和"),n("a",as,[s("removeLayer"),t(a)]),s("方法来控制图层的加载和删除。")]),n("p",null,[s("更多方法可以在"),n("a",ts,[s("图层类型"),t(a)]),s("找到对应的 图层类 后，查阅对应类的属性或方法进行进一步控制及管理图层。")])])}const cs=l(d,[["render",es],["__file","map.html.vue"]]);export{cs as default};
