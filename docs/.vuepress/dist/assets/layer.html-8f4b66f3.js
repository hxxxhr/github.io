import{_ as p,r as o,o as r,c as l,a as n,b as s,d as t,e}from"./app-a7594ec8.js";const c="/doc/assets/map-layer-0d8014c2.jpg",i={},u=n("h3",null," 地图图层 Layer ",-1),d=n("p",null,[s("地图内是由各种不同的图层来叠加显示，形成整个二维地图场景的。 图层是地图中很重要的概念，也是平台内很重要的组成部分。"),n("br"),n("img",{src:c,alt:"配置图"})],-1),k=n("h2",{id:"_1-图层类",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-图层类","aria-hidden":"true"},"#"),s(" 1. 图层类")],-1),m={href:"http://mars2d.cn/api/leaflet/reference_cn.html#layer",target:"_blank",rel:"noopener noreferrer"},y=n("code",null,"mars2d.layer.*",-1),v={href:"http://mars2d.cn/api/global.html#LayerType",target:"_blank",rel:"noopener noreferrer"},h=e(`<p>下面我们演示创建一个图层对象 ，并调用 map.addLayer 添加到地图上。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//用工厂方法，指定type来创建图层对象</span>
<span class="token keyword">var</span> layer <span class="token operator">=</span> mars2d<span class="token punctuation">.</span>LayerUtil<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;tile&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">subdomains</span><span class="token operator">:</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//直接创建具体类型的图层对象</span>
<span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">subdomains</span><span class="token operator">:</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>tileLayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),g=n("br",null,null,-1),_={href:"http://mars2d.cn/api/TileLayer.html",target:"_blank",rel:"noopener noreferrer"},b=n("br",null,null,-1),q={href:"http://mars2d.cn/api/GraphicLayer.html",target:"_blank",rel:"noopener noreferrer"},f=n("br",null,null,-1),x={href:"http://mars2d.cn/api/GroupLayer.html",target:"_blank",rel:"noopener noreferrer"},L=n("br",null,null,-1),j=n("h3",{id:"_1-1-在-config-json-构造地图时涉及到的图层",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-1-在-config-json-构造地图时涉及到的图层","aria-hidden":"true"},"#"),s(" 1.1. 在 config.json 构造地图时涉及到的图层")],-1),T=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"center"}},"参数名"),n("th",{style:{"text-align":"center"}},"类型"),n("th",{style:{"text-align":"center"}},"参数 API"),n("th",{style:{"text-align":"center"}},"说明"),n("th",{style:{"text-align":"center"}},"支持的类")])],-1),w=n("td",{style:{"text-align":"center"}},"basemaps",-1),G=n("td",{style:{"text-align":"center"}},"Array",-1),I={style:{"text-align":"center"}},z={href:"http://mars2d.cn/api/Map.html#.basemapOptions",target:"_blank",rel:"noopener noreferrer"},M=n("td",{style:{"text-align":"center"}},"底图图层",-1),N={style:{"text-align":"center"}},V={href:"http://mars2d.cn/api/TileLayer.html",target:"_blank",rel:"noopener noreferrer"},Z=n("td",{style:{"text-align":"center"}},"operationallayers",-1),A=n("td",{style:{"text-align":"center"}},"Array",-1),B={style:{"text-align":"center"}},E={href:"http://mars2d.cn/api/Map.html#.layerOptions",target:"_blank",rel:"noopener noreferrer"},C=n("td",{style:{"text-align":"center"}},"底图图层",-1),O={style:{"text-align":"center"}},P={href:"http://mars2d.cn/api/global.html#LayerType",target:"_blank",rel:"noopener noreferrer"},S=e('<h2 id="_2-常用图层介绍" tabindex="-1"><a class="header-anchor" href="#_2-常用图层介绍" aria-hidden="true">#</a> 2. 常用图层介绍</h2><h3 id="_2-1-栅格瓦片图层" tabindex="-1"><a class="header-anchor" href="#_2-1-栅格瓦片图层" aria-hidden="true">#</a> 2.1 栅格瓦片图层</h3><p>见<a href="">栅格瓦片</a>图层章节介绍。</p><h3 id="_2-2-矢量数据图层" tabindex="-1"><a class="header-anchor" href="#_2-2-矢量数据图层" aria-hidden="true">#</a> 2.2 矢量数据图层</h3><p>见<a href="">矢量数据图层</a>章节介绍。</p><h3 id="_2-3-group-图层组说明" tabindex="-1"><a class="header-anchor" href="#_2-3-group-图层组说明" aria-hidden="true">#</a> 2.3 Group 图层组说明</h3>',6),U=n("code",null,"type:'group'",-1),D={href:"http://mars2d.cn/api/GroupLayer.html",target:"_blank",rel:"noopener noreferrer"},F=n("code",null,"basemaps",-1),H=n("code",null,"layers",-1),J=e(`<ul><li>（1）将多个图层组合起来方便控制（比如将 卫星底图 和 文字注记层 放在一起控制管理）；</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
 <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;离线地图&quot;</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;group&quot;</span><span class="token punctuation">,</span>
 <span class="token string-property property">&quot;layers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">//多个图层放在一起控制管理</span>
   <span class="token punctuation">{</span>
     <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;全国基础数据&quot;</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tile&quot;</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://data.mars2d.cn/tile/googleImg/{z}/{x}/{y}.jpg&quot;</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;minZoom&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;maxZoom&quot;</span><span class="token operator">:</span> <span class="token number">12</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span>
     <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;具体项目数据&quot;</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tile&quot;</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://data.mars2d.cn/tile/googleImg/{z}/{x}/{y}.jpg&quot;</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;minZoom&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;maxZoom&quot;</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
     <span class="token string-property property">&quot;rectangle&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;xmin&quot;</span><span class="token operator">:</span> <span class="token number">116.33236</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;xmax&quot;</span><span class="token operator">:</span> <span class="token number">118.183557</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;ymin&quot;</span><span class="token operator">:</span> <span class="token number">31.143784</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;ymax&quot;</span><span class="token operator">:</span> <span class="token number">32.565035</span> <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>（2）图层管理 的图层分组节点（虚拟节点）。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mars2d<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&quot;mars2dContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">basemaps</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;地图底图&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;group&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//图层管理 的图层分组节点（虚拟节点）</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;天地图卫星&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&quot;img/basemaps/tdt_img.png&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;tdt&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;img_d&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;9ae78c51a0a28f06444d541148496e36&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">pid</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;本地单张图片&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&quot;img/basemaps/offline.png&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;image&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;img/tietu/world.jpg&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;数据图层&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;group&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-2-其他可视化图层" tabindex="-1"><a class="header-anchor" href="#_2-2-其他可视化图层" aria-hidden="true">#</a> 2.2 其他可视化图层</h2><p>主要提供一些与 echarts、heatmap、mapv 等其他可视化组件结合通过 canvas 绘制的一些图层。</p>`,6);function K(Q,R){const a=o("ExternalLinkIcon");return r(),l("div",null,[u,d,k,n("p",null,[s("平台的所有图层类都继承于"),n("a",m,[s("L.Layer 类"),t(a)]),s(" ，图层类均在"),y,s("命名空间下面。 图层清单请访问"),n("a",v,[s("LayerType 类"),t(a)])]),h,n("p",null,[s("图层主要分以下几大类 "),g,s(" 1.栅格瓦片图层"),n("a",_,[s("TileLayer"),t(a)]),s(" 等 ，是地图场景的基础皮肤 "),b,s(" 2.矢量数据图层"),n("a",q,[s("GraphicLayer"),t(a)]),s(),f,s(" 3.图层组"),n("a",x,[s("GroupLayer"),t(a)]),s("，方便组合管理"),L,s(" 4.其他可视化图层")]),j,n("table",null,[T,n("tbody",null,[n("tr",null,[w,G,n("td",I,[n("a",z,[s("参数"),t(a)])]),M,n("td",N,[n("a",V,[s("TileLayer"),t(a)]),s("及其他瓦片图层")])]),n("tr",null,[Z,A,n("td",B,[n("a",E,[s("参数"),t(a)])]),C,n("td",O,[n("a",P,[s("LayerType 清单"),t(a)])])])])]),S,n("p",null,[s("为了方便图层控制，平台提供了"),U,s("的图层组"),n("a",D,[s("GroupLayer 类"),t(a)]),s("图层，目前主要在构造 Map 时传入"),F,s("或"),H,s("参数中使用，可以用于：")]),J])}const X=p(i,[["render",K],["__file","layer.html.vue"]]);export{X as default};
